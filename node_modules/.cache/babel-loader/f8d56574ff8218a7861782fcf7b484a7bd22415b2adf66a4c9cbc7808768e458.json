{"ast":null,"code":"var _jsxFileName = \"/home/ezra/Documents/IMDb-Front/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport styles from \"../App.module.css\";\nimport AuthContext from \"../context/AuthProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const {\n    setAuth\n  } = useContext(AuthContext);\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [success, setSuccess] = useState(false);\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      var _response$data;\n      const response = await axios.post('http://localhost:8000/dj-rest-auth/login/', formData);\n      const token = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.key;\n      console.log(token);\n      console.log(formData.username);\n      console.log(formData.password);\n      const user = formData.username;\n      const pwd = formData.password;\n      console.log('Login successful:', response.data);\n      setAuth({\n        user,\n        pwd,\n        token\n      });\n      setFormData(username = \"\", password = \"\");\n    } catch (error) {\n      console.error('Login failed:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: success ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"You are logged In!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          children: \"Go to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.login,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Username\",\n          value: formData.username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          value: formData.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Need An account?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.loginformline,\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"B7eiT1ZN4O+C5aAnq0l6ej58C18=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","axios","styles","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","setAuth","formData","setFormData","username","password","errMsg","setErrMsg","success","setSuccess","handleChange","e","target","name","value","handleSubmit","preventDefault","_response$data","response","post","token","data","key","console","log","user","pwd","error","children","fileName","_jsxFileName","lineNumber","columnNumber","href","className","login","onSubmit","type","placeholder","onChange","loginformline","_c","$RefreshReg$"],"sources":["/home/ezra/Documents/IMDb-Front/src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport styles from \"../App.module.css\";\nimport AuthContext from \"../context/AuthProvider\";\n\nfunction Login() {\n\tconst { setAuth } = useContext(AuthContext);\n \tconst [formData, setFormData] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t});\n\tconst [errMsg, setErrMsg] = useState(\"\");\n\tconst [success, setSuccess] = useState(false);\n\n\n\tconst handleChange = (e) => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value,\n\t\t});\n\t};\n\n\tconst handleSubmit = async (e) => {\n    \t\te.preventDefault();\n\n\t\ttry {\n\t\t\tconst response = await axios.post('http://localhost:8000/dj-rest-auth/login/', formData);\n\t\t\tconst token = response?.data?.key\n\t\t\tconsole.log(token)\n\t\t\tconsole.log(formData.username)\n\t\t\tconsole.log(formData.password)\n\t\t\tconst user = formData.username;\n\t\t\tconst pwd = formData.password\n\t\t\tconsole.log('Login successful:', response.data);\n\t\t\tsetAuth({ user, pwd, token});\n\t\t\tsetFormData(\n\t\t\tusername = \"\",\n\t\t\tpassword = \"\",\n\t\t\t)\n\t\t} catch (error) {\n\t\t\tconsole.error('Login failed:', error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t  \t\t\t{success ? (\n\t\t\t\t<div>\n\t\t\t\t<h1>You are logged In!</h1>\n\t\t\t\t<br />\n\t\t\t\t<p>\n\t\t\t\t<a href=\"#\">Go to Home</a>\n\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className={styles.login}>\n\t\t\t\t<h2>Login</h2>\n \t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"username\"\n\t\t\t\tplaceholder=\"Username\"\n\t\t\t\tvalue={formData.username}\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\t\t\t\t<input\n\t\t\t\ttype=\"password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tplaceholder=\"Password\"\n\t\t\t\tvalue={formData.password}\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\t\t\t<button type=\"submit\">Login</button>\n\t \t\t\t<p>\n\t\t\t\tNeed An account?<br />\n\t\t\t\t<span className={styles.loginformline}>\n\t\t\t\t{\" \"}\n\t\t\t\t<a href=\"#\">Sign Up</a>\n\t\t\t\t</span>\n\t\t\t</p>\n\t\t</form>\n\t\t</div>\n\t\t)}\n\t</>\n  );\n}\n\nexport default Login;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}